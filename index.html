<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Home - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="CreateOptions.html">CreateOptions</a><ul class='methods'><li data-type='method'><a href="CreateOptions.html#decodeBinaryProperties">decodeBinaryProperties</a></li><li data-type='method'><a href="CreateOptions.html#encodeBinaryProperties">encodeBinaryProperties</a></li><li data-type='method'><a href="CreateOptions.html#toHumanHtml">toHumanHtml</a></li><li data-type='method'><a href="CreateOptions.html#toHumanString">toHumanString</a></li><li data-type='method'><a href="CreateOptions.html#toObject">toObject</a></li><li data-type='method'><a href="CreateOptions.html#toString">toString</a></li><li data-type='method'><a href="CreateOptions.html#validate">validate</a></li></ul></li><li><a href="CreateOptionsRequest.html">CreateOptionsRequest</a><ul class='methods'><li data-type='method'><a href="CreateOptionsRequest.html#decodeBinaryProperties">decodeBinaryProperties</a></li><li data-type='method'><a href="CreateOptionsRequest.html#encodeBinaryProperties">encodeBinaryProperties</a></li><li data-type='method'><a href="CreateOptionsRequest.html#toHumanHtml">toHumanHtml</a></li><li data-type='method'><a href="CreateOptionsRequest.html#toHumanString">toHumanString</a></li><li data-type='method'><a href="CreateOptionsRequest.html#toObject">toObject</a></li><li data-type='method'><a href="CreateOptionsRequest.html#toString">toString</a></li><li data-type='method'><a href="CreateOptionsRequest.html#validate">validate</a></li></ul></li><li><a href="CredentialAssertion.html">CredentialAssertion</a><ul class='methods'><li data-type='method'><a href="CredentialAssertion.html#decodeBinaryProperties">decodeBinaryProperties</a></li><li data-type='method'><a href="CredentialAssertion.html#encodeBinaryProperties">encodeBinaryProperties</a></li><li data-type='method'><a href="CredentialAssertion.html#toHumanHtml">toHumanHtml</a></li><li data-type='method'><a href="CredentialAssertion.html#toHumanString">toHumanString</a></li><li data-type='method'><a href="CredentialAssertion.html#toObject">toObject</a></li><li data-type='method'><a href="CredentialAssertion.html#toString">toString</a></li><li data-type='method'><a href="CredentialAssertion.html#validate">validate</a></li></ul></li><li><a href="CredentialAttestation.html">CredentialAttestation</a><ul class='methods'><li data-type='method'><a href="CredentialAttestation.html#decodeBinaryProperties">decodeBinaryProperties</a></li><li data-type='method'><a href="CredentialAttestation.html#encodeBinaryProperties">encodeBinaryProperties</a></li><li data-type='method'><a href="CredentialAttestation.html#toHumanHtml">toHumanHtml</a></li><li data-type='method'><a href="CredentialAttestation.html#toHumanString">toHumanString</a></li><li data-type='method'><a href="CredentialAttestation.html#toObject">toObject</a></li><li data-type='method'><a href="CredentialAttestation.html#toString">toString</a></li><li data-type='method'><a href="CredentialAttestation.html#validate">validate</a></li></ul></li><li><a href="GetOptions.html">GetOptions</a><ul class='methods'><li data-type='method'><a href="GetOptions.html#decodeBinaryProperties">decodeBinaryProperties</a></li><li data-type='method'><a href="GetOptions.html#encodeBinaryProperties">encodeBinaryProperties</a></li><li data-type='method'><a href="GetOptions.html#toHumanHtml">toHumanHtml</a></li><li data-type='method'><a href="GetOptions.html#toHumanString">toHumanString</a></li><li data-type='method'><a href="GetOptions.html#toObject">toObject</a></li><li data-type='method'><a href="GetOptions.html#toString">toString</a></li><li data-type='method'><a href="GetOptions.html#validate">validate</a></li></ul></li><li><a href="GetOptionsRequest.html">GetOptionsRequest</a><ul class='methods'><li data-type='method'><a href="GetOptionsRequest.html#decodeBinaryProperties">decodeBinaryProperties</a></li><li data-type='method'><a href="GetOptionsRequest.html#encodeBinaryProperties">encodeBinaryProperties</a></li><li data-type='method'><a href="GetOptionsRequest.html#toHumanHtml">toHumanHtml</a></li><li data-type='method'><a href="GetOptionsRequest.html#toHumanString">toHumanString</a></li><li data-type='method'><a href="GetOptionsRequest.html#toObject">toObject</a></li><li data-type='method'><a href="GetOptionsRequest.html#toString">toString</a></li><li data-type='method'><a href="GetOptionsRequest.html#validate">validate</a></li></ul></li><li><a href="Msg.html">Msg</a><ul class='methods'><li data-type='method'><a href="Msg.html#.from">from</a></li><li data-type='method'><a href="Msg.html#.toHumanString">toHumanString</a></li><li data-type='method'><a href="Msg.html#decodeBinaryProperties">decodeBinaryProperties</a></li><li data-type='method'><a href="Msg.html#encodeBinaryProperties">encodeBinaryProperties</a></li><li data-type='method'><a href="Msg.html#toHumanHtml">toHumanHtml</a></li><li data-type='method'><a href="Msg.html#toHumanString">toHumanString</a></li><li data-type='method'><a href="Msg.html#toObject">toObject</a></li><li data-type='method'><a href="Msg.html#toString">toString</a></li><li data-type='method'><a href="Msg.html#validate">validate</a></li></ul></li><li><a href="ServerResponse.html">ServerResponse</a><ul class='methods'><li data-type='method'><a href="ServerResponse.html#decodeBinaryProperties">decodeBinaryProperties</a></li><li data-type='method'><a href="ServerResponse.html#encodeBinaryProperties">encodeBinaryProperties</a></li><li data-type='method'><a href="ServerResponse.html#toHumanHtml">toHumanHtml</a></li><li data-type='method'><a href="ServerResponse.html#toHumanString">toHumanString</a></li><li data-type='method'><a href="ServerResponse.html#toObject">toObject</a></li><li data-type='method'><a href="ServerResponse.html#toString">toString</a></li><li data-type='method'><a href="ServerResponse.html#validate">validate</a></li></ul></li><li><a href="WebAuthn.html">WebAuthn</a></li><li><a href="WebAuthnApp.html">WebAuthnApp</a><ul class='methods'><li data-type='method'><a href="WebAuthnApp.html#create">create</a></li><li data-type='method'><a href="WebAuthnApp.html#get">get</a></li><li data-type='method'><a href="WebAuthnApp.html#login">login</a></li><li data-type='method'><a href="WebAuthnApp.html#register">register</a></li><li data-type='method'><a href="WebAuthnApp.html#requestLoginOptions">requestLoginOptions</a></li><li data-type='method'><a href="WebAuthnApp.html#requestRegisterOptions">requestRegisterOptions</a></li><li data-type='method'><a href="WebAuthnApp.html#send">send</a></li><li data-type='method'><a href="WebAuthnApp.html#sendLoginResult">sendLoginResult</a></li><li data-type='method'><a href="WebAuthnApp.html#sendRegisterResult">sendRegisterResult</a></li></ul></li></ul><h3>Events</h3><ul><li><a href="WebAuthnApp.html#event:debugEvent">debugEvent</a></li><li><a href="WebAuthnApp.html#event:loginEvent">loginEvent</a></li><li><a href="WebAuthnApp.html#event:notSupportedEvent">notSupportedEvent</a></li><li><a href="WebAuthnApp.html#event:registerEvent">registerEvent</a></li><li><a href="WebAuthnApp.html#event:userPresenceEvent">userPresenceEvent</a></li></ul>
</nav>

<div id="main">
    

    



    









    


    <section class="readme">
        <article><p><a href="https://saucelabs.com/u/apowers313"><img src="https://saucelabs.com/browser-matrix/apowers313.svg" alt="Sauce Test Status"></a></p>
<p>node.js: <a href="https://travis-ci.org/apowers313/webauthn-simple-app"><img src="https://travis-ci.org/apowers313/webauthn-simple-app.svg?branch=master" alt="Build Status"></a></p>
<p>This module makes passwordless (or second-factor) <a href="https://www.w3.org/TR/webauthn/">W3C's</a> <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Authentication_API">Web Authentication</a> simple. The primary interface is the <a href="https://apowers313.github.io/webauthn-simple-app/WebAuthnApp.html">WebAuthnApp</a> class, with the <code>register()</code> and <code>login()</code> methods for registering new devices and / or logging in via WebAuthn. The interface takes care of communicating with your WebAuthn server, validating server responses, calling the browser's WebAuthn API with the right options, and everything else.</p>
<p>There is much more functionality available for debugging or more granular control, but it probably isn't needed for most applications.</p>
<p>The module is also exported as a <code>npm</code> module, allowing the <a href="https://apowers313.github.io/webauthn-simple-app/Msg.html">Msg</a> class to be used in <code>node.js</code> servers for creating, validating, and converting all the communications with a browser.</p>
<p>For a live demo of this project, see <a href="https://webauthn.org">webauthn.org</a>.</p>
<p>Documentation for all classes and advanced options is <a href="https://apowers313.github.io/webauthn-simple-app">available online</a>.</p>
<h2>Install</h2><p><strong>npm</strong></p>
<pre class="prettyprint source lang-js"><code>npm install webauthn-simple-app</code></pre><p><strong>CDN</strong></p>
<pre class="prettyprint source lang-html"><code>&lt;script src=&quot;https://cdn.rawgit.com/apowers313/webauthn-simple-app/v1.2.0/webauthn-simple-app.js&quot;>&lt;/script></code></pre><p><strong>GitHub</strong></p>
<pre class="prettyprint source"><code>git clone https://github.com/apowers313/webauthn-simple-app</code></pre><p><strong>Download</strong>
.zip and .tgz downloads are available from the <a href="https://github.com/apowers313/webauthn-simple-app/releases">releases page</a>.</p>
<h2>Simple Example</h2><p><strong>Register:</strong></p>
<pre class="prettyprint source lang-js"><code>// register a new device / account
var waApp = new WebAuthnApp()
waApp.username = &quot;me&quot;;
waApp.register()
    .then(() => {
        alert(&quot;You are now registered!&quot;);
    })
    .catch((err) => {
        alert(&quot;Registration error: &quot; + err.message);
    });</code></pre><p><strong>Log in:</strong></p>
<pre class="prettyprint source lang-js"><code>// log in to a previously registered account
var waApp = new WebAuthnApp()
waApp.username = &quot;me&quot;;
waApp.login()
    .then(() => {
        alert(&quot;You are now logged in!&quot;);
    })
    .catch((err) => {
        alert(&quot;Log in error: &quot; + err.message);
    });</code></pre><h2>Real Example</h2><p>Here is a more complete example, using <a href="https://jquery.com/">jQuery</a> to do things like get inputs from forms and respond to various events that are fired.</p>
<p><strong>JavaScript</strong></p>
<pre class="prettyprint source lang-js"><code>// override some of the default configuration options
// see the docs for a full list of configuration options
var webAuthnConfig = {
    timeout: 30000
};

// when user clicks submit in the register form, start the registration process
$(&quot;#register-form&quot;).submit(function(event) {
    event.preventDefault();
    webAuthnConfig.username = $(event.target).children(&quot;input[name=username]&quot;)[0].value
    new WebAuthnApp(webAuthnConfig).register();
});

// when user clicks submit in the login form, start the log in process
$(&quot;#login-form&quot;).submit(function(event) {
    event.preventDefault();
    webAuthnConfig.username = $(event.target).children(&quot;input[name=username]&quot;)[0].value
    new WebAuthnApp(webAuthnConfig).login();
});

// do something when registration is successful
$(document).on(&quot;webauthn-register-success&quot;, () => {
    window.location = &quot;https://example.com/sign-in-page&quot;;
});

// do something when registration fails
$(document).on(&quot;webauthn-register-error&quot;, (err) => {
    // probably do something nice like a toast or a modal...
    alert(&quot;Registration error: &quot; + err.message);
});

// do something when log in is successful
$(document).on(&quot;webauthn-login-success&quot;, () => {
    window.location = &quot;https://example.com/my-profile-page&quot;;
});

// do something when log in fails
$(document).on(&quot;webauthn-login-error&quot;, (err) => {
    // probably do something nice like a toast or a modal...
    alert(&quot;Log in error: &quot; + err.message);
});

// gently remind the user to authenticate when it's time
$(document).on(&quot;webauthn-user-presence-start&quot;, (err) => {
  // probably do something nice like a toast or a modal...
    alert(&quot;Please perform user verification on your authenticator now!&quot;);
});</code></pre><p><strong>HTML</strong></p>
<pre class="prettyprint source lang-html"><code>&lt;html>
    &lt;!-- A very simple registration form -->
    &lt;form id=&quot;register-form&quot;>
        &lt;input type=&quot;text&quot; id=&quot;username&quot; name=&quot;username&quot; placeholder=&quot;Username&quot; autofocus=&quot;autofocus&quot;>
        &lt;input type=&quot;submit&quot; id=&quot;registerButton&quot; class=&quot;btn btn-success&quot; value=&quot;Register&quot;>
    &lt;/form>

    &lt;!-- A very simple log in form -->
    &lt;form id=&quot;login-form&quot;>
        &lt;input type=&quot;text&quot; id=&quot;username&quot; name=&quot;username&quot; placeholder=&quot;Username&quot; autofocus=&quot;autofocus&quot;>
        &lt;input type=&quot;submit&quot; id=&quot;loginButton&quot; class=&quot;btn btn-success&quot; value=&quot;Login&quot;>
    &lt;/form>
&lt;/html></code></pre><h2>Complete Example</h2><p>For a complete example using jQuery and Bootstrap, refer to the code at the <a href="https://github.com/apowers313/webauthn-yubiclone">webauthn-yubiclone</a> project, specifically <a href="https://github.com/apowers313/webauthn-yubiclone/blob/master/index.html">index.html</a> and <a href="https://github.com/apowers313/webauthn-yubiclone/blob/master/js/ux-events.js">ux-events.js</a>.</p>
<h2>Theory of Operation</h2><p>Here's what's going on inside when you call <code>register</code> or <code>login</code>:</p>
<p><strong>WebAuthnApp.register():</strong></p>
<ul>
<li>getRegisterOptions()<ul>
<li>client --&gt; CreateOptionsRequest --&gt; server</li>
<li>client &lt;-- CreateOptions &lt;-- server</li>
</ul>
</li>
<li>create()<ul>
<li>CredentialAttestation = navigator.credentials.create(CreateOptions)</li>
</ul>
</li>
<li>sendRegisterResult()<ul>
<li>client --&gt; CredentialAttestation --&gt; server</li>
<li>client &lt;-- ServerResponse &lt;-- server</li>
</ul>
</li>
</ul>
<p><strong>WebAuthnApp.login():</strong></p>
<ul>
<li>getLoginOptions()<ul>
<li>client --&gt; GetOptionsRequest --&gt; server</li>
<li>client &lt;-- GetOptions &lt;-- server</li>
</ul>
</li>
<li>get()<ul>
<li>CredentialAssertion = navigator.credentials.get(GetOptions)</li>
</ul>
</li>
<li>sendLoginResult()<ul>
<li>client --&gt; CredentialAssertion --&gt; server</li>
<li>client &lt;-- ServerResponse &lt;-- server</li>
</ul>
</li>
</ul>
<h2>Sponsor</h2><p>Note that while I used to be Technical Director for FIDO Alliance (and I am currently the Technical Advisor for FIDO Alliance), THIS PROJECT IS NOT ENDORSED OR SPONSORED BY FIDO ALLIANCE.</p>
<p>Work for this project is supported by my consulting company: <a href="https://webauthn.consulting/">WebAuthn Consulting</a>.</p></article>
    </section>






</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Sun Jul 01 2018 16:03:48 GMT+0000 (UTC) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>